<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abishua's Planner - Stay Organized & Meet Your Deadlines</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="planner-styles.css">
</head>
<body>
    <!-- Splash Screen -->
    <div class="splash-screen" id="splashScreen">
        <h1 class="splash-title">abishua's planner</h1>
    </div>

    <!-- Header with Bible Verse -->
    <header class="app-header">
        <div class="bible-verse">
            <div class="verse-text">
                "Commit to the LORD whatever you do, and he will establish your plans."
            </div>
            <div class="verse-reference">
                Proverbs 16:3 (NIV)
            </div>
        </div>

        <div class="app-title-section">
            <div class="app-title">
                <i class="fas fa-calendar-check"></i>
                <h1>Abishua's Planner</h1>
            </div>

            <div class="header-stats">
                <div class="stat-item" title="Active Tasks">
                    <i class="fas fa-tasks"></i>
                    <span id="activeTasksCount">0</span>
                </div>
                <div class="stat-item" title="Upcoming Events">
                    <i class="fas fa-calendar"></i>
                    <span id="upcomingEventsCount">0</span>
                </div>
                <div class="stat-item urgent" title="Urgent Deadlines">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="urgentDeadlinesCount">0</span>
                </div>
            </div>

            <div class="header-actions">
                <span class="current-date" id="currentDate"></span>
                <button class="icon-btn" id="themeToggle" title="Toggle Dark Mode">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-profile" id="userProfile">
                    <button class="user-profile-btn" id="userProfileBtn" title="User Profile">
                        <img id="userAvatar" class="user-avatar" src="" alt="User">
                        <span id="userName" class="user-name"></span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="user-dropdown" id="userDropdown">
                        <div class="user-dropdown-header">
                            <img id="userAvatarDropdown" class="user-avatar-large" src="" alt="User">
                            <div class="user-info">
                                <div id="userNameDropdown" class="user-name-large"></div>
                                <div id="userEmailDropdown" class="user-email"></div>
                            </div>
                        </div>
                        <div class="user-dropdown-divider"></div>
                        <button class="user-dropdown-item" id="signOutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Tab Navigation -->
    <nav class="tab-navigation">
        <button class="tab-btn active" data-tab="work">
            <i class="fas fa-briefcase"></i> Work Tasks
        </button>
        <button class="tab-btn" data-tab="personal">
            <i class="fas fa-heart"></i> Personal Tasks
        </button>
        <button class="tab-btn" data-tab="daily">
            <i class="fas fa-check-circle"></i> Daily Tasks
        </button>
        <button class="tab-btn" data-tab="schedule">
            <i class="fas fa-calendar-alt"></i> Schedule
        </button>
        <button class="tab-btn" data-tab="weekly">
            <i class="fas fa-sync-alt"></i> Weekly Routines
        </button>
        <button class="tab-btn" data-tab="deadlines">
            <i class="fas fa-flag-checkered"></i> Deadlines
        </button>
        <button class="tab-btn" data-tab="goals">
            <i class="fas fa-trophy"></i> Goals
        </button>
        <button class="tab-btn" data-tab="notes">
            <i class="fas fa-sticky-note"></i> Notes
        </button>
    </nav>

    <!-- Main Content -->
    <main class="main-content">

        <!-- Work Tasks Tab -->
        <div class="tab-content active" id="workTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-briefcase"></i> Work Tasks
                    </h2>
                </div>

                <div class="form-group">
                    <label class="form-label">Task Title *</label>
                    <input type="text" id="workTaskTitle" class="form-input"
                           placeholder="Enter work task title...">
                </div>

                <div class="form-group">
                    <label class="form-label">Description (Optional)</label>
                    <textarea id="workTaskDesc" class="form-textarea"
                              placeholder="Add more details about this task..."></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Deadline (Optional)</label>
                        <input type="date" id="workTaskDeadline" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Priority</label>
                        <select id="workTaskPriority" class="form-select">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" id="addWorkTaskBtn">
                    <i class="fas fa-plus"></i> Add Work Task
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-list"></i> Your Work Tasks
                    </h2>
                </div>
                <div id="workTasksList" class="items-list"></div>
            </div>
        </div>

        <!-- Personal Tasks Tab -->
        <div class="tab-content" id="personalTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-heart"></i> Personal Tasks
                    </h2>
                </div>

                <div class="form-group">
                    <label class="form-label">Task Title *</label>
                    <input type="text" id="personalTaskTitle" class="form-input"
                           placeholder="Enter personal task title...">
                </div>

                <div class="form-group">
                    <label class="form-label">Description (Optional)</label>
                    <textarea id="personalTaskDesc" class="form-textarea"
                              placeholder="Add more details about this task..."></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Deadline (Optional)</label>
                        <input type="date" id="personalTaskDeadline" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Priority</label>
                        <select id="personalTaskPriority" class="form-select">
                            <option value="low">Low Priority</option>
                            <option value="medium" selected>Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" id="addPersonalTaskBtn">
                    <i class="fas fa-plus"></i> Add Personal Task
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-list"></i> Your Personal Tasks
                    </h2>
                </div>
                <div id="personalTasksList" class="items-list"></div>
            </div>
        </div>

        <!-- Daily Tasks Tab -->
        <div class="tab-content" id="dailyTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-check-circle"></i> Today's Tasks
                    </h2>
                    <span id="dailyTaskDate" style="color: var(--text-secondary); font-size: 1rem;"></span>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Quick to-do list for today. Check off tasks as you complete them!
                </p>

                <div class="form-group">
                    <label class="form-label">Add Task *</label>
                    <div style="display: flex; gap: 12px;">
                        <input type="text" id="dailyTaskInput" class="form-input"
                               placeholder="What do you need to get done today?">
                        <button class="btn btn-primary" id="addDailyTaskBtn">
                            <i class="fas fa-plus"></i> Add
                        </button>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-list-check"></i> Today's To-Do List
                    </h2>
                    <button class="btn btn-sm btn-secondary" id="clearCompletedBtn">
                        <i class="fas fa-broom"></i> Clear Completed
                    </button>
                </div>
                <div id="dailyTasksList" class="items-list"></div>
            </div>
        </div>

        <!-- Schedule Tab -->
        <div class="tab-content" id="scheduleTab">
            <!-- Custom Calendar -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-calendar-alt"></i> Calendar
                    </h2>
                </div>

                <div class="calendar-wrapper">
                    <div class="calendar-header">
                        <button class="calendar-nav-btn" id="prevMonthBtn" title="Previous Month">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <div style="display: flex; align-items: center; gap: 12px; flex: 1; justify-content: center;">
                            <h3 class="calendar-month-year" id="calendarMonthYear">January 2024</h3>
                            <button class="btn btn-secondary btn-sm" id="todayBtn" title="Go to Today">
                                Today
                            </button>
                        </div>
                        <button class="calendar-nav-btn" id="nextMonthBtn" title="Next Month">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="calendar-legend">
                        <div class="legend-item">
                            <div class="legend-dot" style="background: var(--primary-blue);"></div>
                            <span>Events</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background: var(--danger);"></div>
                            <span>Deadlines</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot" style="background: var(--success);"></div>
                            <span>Weekly Routines</span>
                        </div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- Calendar will be rendered here -->
                    </div>
                </div>
            </div>

            <!-- Quick Add Event -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-plus-circle"></i> Add Event
                    </h2>
                </div>

                <div class="form-group">
                    <label class="form-label">Event Title *</label>
                    <input type="text" id="scheduleTitle" class="form-input"
                           placeholder="e.g., Team Meeting, Doctor Appointment...">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Date *</label>
                        <input type="date" id="scheduleDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Time (Optional)</label>
                        <input type="time" id="scheduleTime" class="form-input">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Description (Optional)</label>
                    <textarea id="scheduleDesc" class="form-textarea" rows="2"
                              placeholder="Add location, notes, or other details..."></textarea>
                </div>

                <button class="btn btn-primary" id="addScheduleBtn">
                    <i class="fas fa-plus"></i> Add Event
                </button>
            </div>

            <!-- Upcoming Schedule -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-list"></i> Upcoming Events
                    </h2>
                </div>
                <div id="scheduleList" class="items-list"></div>
            </div>
        </div>

        <!-- Weekly Routines Tab -->
        <div class="tab-content" id="weeklyTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-calendar-week"></i> Weekly Schedule
                    </h2>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Click on any time block to add a routine. Drag to create longer blocks!
                </p>

                <div id="weeklyTimetable" class="timetable-container"></div>
            </div>
        </div>

        <!-- Deadlines Tab -->
        <div class="tab-content" id="deadlinesTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-flag-checkered"></i> All Deadlines
                    </h2>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Track all your deadlines from work and personal tasks in one place. Stay on top of what's urgent!
                </p>

                <div class="deadline-tracker" id="deadlinesList"></div>
            </div>
        </div>

        <!-- Goals Tab -->
        <div class="tab-content" id="goalsTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-trophy"></i> My Goals
                    </h2>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Set and track your short-term, medium-term, and long-term goals!
                </p>

                <div class="form-group">
                    <label class="form-label">Goal Title *</label>
                    <input type="text" id="goalTitle" class="form-input"
                           placeholder="What do you want to achieve?">
                </div>

                <div class="form-group">
                    <label class="form-label">Description (Optional)</label>
                    <textarea id="goalDesc" class="form-textarea" rows="2"
                              placeholder="Add more details about your goal..."></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Goal Type *</label>
                        <select id="goalType" class="form-select">
                            <option value="short">Short-term (Weeks to Months)</option>
                            <option value="medium">Medium-term (Months to Year)</option>
                            <option value="long">Long-term (Year+)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Target Date (Optional)</label>
                        <input type="date" id="goalTarget" class="form-input">
                    </div>
                </div>

                <button class="btn btn-primary" id="addGoalBtn">
                    <i class="fas fa-plus"></i> Add Goal
                </button>
            </div>

            <!-- Short-term Goals -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-bolt"></i> Short-term Goals
                    </h2>
                </div>
                <div id="shortGoalsList" class="items-list"></div>
            </div>

            <!-- Medium-term Goals -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-chart-line"></i> Medium-term Goals
                    </h2>
                </div>
                <div id="mediumGoalsList" class="items-list"></div>
            </div>

            <!-- Long-term Goals -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-mountain"></i> Long-term Goals
                    </h2>
                </div>
                <div id="longGoalsList" class="items-list"></div>
            </div>
        </div>

        <!-- Notes Tab -->
        <div class="tab-content" id="notesTab">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-sticky-note"></i> Quick Notes
                    </h2>
                </div>

                <p style="color: var(--text-secondary); margin-bottom: 20px;">
                    Jot down your thoughts, ideas, or reminders!
                </p>

                <div class="form-group">
                    <label class="form-label">Note Title *</label>
                    <input type="text" id="noteTitle" class="form-input"
                           placeholder="Give your note a title...">
                </div>

                <div class="form-group">
                    <label class="form-label">Note Content *</label>
                    <textarea id="noteContent" class="form-textarea" rows="6"
                              placeholder="Write your note here..."></textarea>
                </div>

                <button class="btn btn-primary" id="addNoteBtn">
                    <i class="fas fa-plus"></i> Add Note
                </button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <i class="fas fa-book"></i> Your Notes
                    </h2>
                </div>
                <div id="notesList" class="notes-grid"></div>
            </div>
        </div>

    </main>

    <!-- Edit Task Modal -->
    <div class="modal" id="editTaskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Edit Task</h3>
                <button class="modal-close">&times;</button>
            </div>

            <div class="modal-body">
                <input type="hidden" id="editTaskId">
                <input type="hidden" id="editTaskType">

                <div class="form-group">
                    <label class="form-label">Task Title</label>
                    <input type="text" id="editTaskTitle" class="form-input">
                </div>

                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea id="editTaskDesc" class="form-textarea"></textarea>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Deadline</label>
                        <input type="date" id="editTaskDeadline" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Priority</label>
                        <select id="editTaskPriority" class="form-select">
                            <option value="low">Low Priority</option>
                            <option value="medium">Medium Priority</option>
                            <option value="high">High Priority</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary modal-close">Cancel</button>
                <button class="btn btn-primary" id="saveTaskBtn">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content confirm-modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="confirmModalTitle">Confirm Action</span>
                </h3>
            </div>

            <div class="modal-body">
                <p id="confirmModalMessage" class="confirm-message"></p>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary" id="confirmCancelBtn">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-danger" id="confirmOkBtn">
                    <i class="fas fa-check"></i> Confirm
                </button>
            </div>
        </div>
    </div>

    <!-- Add Routine Modal -->
    <div class="modal" id="addRoutineModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-plus-circle"></i> Add Routine
                </h3>
                <button class="modal-close">&times;</button>
            </div>

            <div class="modal-body">
                <input type="hidden" id="routineModalDay">
                <input type="hidden" id="routineModalTime">

                <div class="form-group">
                    <label class="form-label">Time Slot</label>
                    <div id="routineModalSlotInfo" style="padding: 12px; background: var(--bg-secondary); border-radius: 8px; font-weight: 500; color: var(--text-primary);"></div>
                </div>

                <div class="form-group">
                    <label class="form-label">Routine Title *</label>
                    <input type="text" id="routineModalTitle" class="form-input"
                           placeholder="e.g., Morning Workout, Team Meeting...">
                </div>

                <div class="form-group">
                    <label class="form-label">Duration</label>
                    <select id="routineModalDuration" class="form-select">
                        <option value="30">30 minutes</option>
                        <option value="60">1 hour</option>
                        <option value="90">1.5 hours</option>
                        <option value="120">2 hours</option>
                    </select>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary modal-close">Cancel</button>
                <button class="btn btn-primary" id="saveRoutineModalBtn">
                    <i class="fas fa-save"></i> Add Routine
                </button>
            </div>
        </div>
    </div>

    <!-- Note View/Edit Modal -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">
                    <i class="fas fa-sticky-note"></i> <span id="noteModalTitle">View Note</span>
                </h3>
                <button class="modal-close">&times;</button>
            </div>

            <div class="modal-body">
                <input type="hidden" id="viewNoteId">

                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" id="viewNoteTitle" class="form-input" readonly>
                </div>

                <div class="form-group">
                    <label class="form-label">Content</label>
                    <textarea id="viewNoteContent" class="form-textarea" rows="10" readonly></textarea>
                </div>

                <div class="note-modal-date">
                    <i class="fas fa-clock"></i> <span id="viewNoteDate"></span>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn btn-secondary modal-close">Close</button>
                <button class="btn btn-danger" id="deleteNoteBtn">
                    <i class="fas fa-trash"></i> Delete
                </button>
                <div style="display: inline-flex;">
                    <button class="btn btn-primary" id="editNoteBtn">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="btn btn-primary" id="saveNoteBtn" style="display: none;">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span class="notification-message"></span>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>

    <!-- Firebase Service -->
    <script src="firebase-service.js"></script>

    <!-- Application Script -->
    <script src="planner-app.js"></script>
</body>
</html>
